# Script Inventory

This file is generated by `node tools/docs/script-inventory.js`.

## Phase 3 specs

## Stable entrypoints
- `node tests/run.js` (repo-local test runner)
- `node tools/ci/run-suite.js --mode ci` (CI suite)
- `node tools/ci/run-suite.js --mode nightly` (nightly suite)
- `npm run lint`
- `npm run format`
- `npm run config:budget`
- `npm run env:check`

Prefer `pairofcleats search`, `pairofcleats index build`, and `pairofcleats index watch` for user-facing workflows.
Index build/watch SCM flags: `--scm-provider <auto|git|jj|none>`, `--scm-annotate`, `--no-scm-annotate`.
See `docs/guides/mcp.md` for MCP server modes, capabilities, and error codes.

## CLI commands (pairofcleats)

Additional CLI commands exposed by `bin/pairofcleats.js`:
- `graph-context`
- `context-pack`
- `impact`
- `suggest-tests`
- `api-contracts`
- `architecture-check`
- `report eval`
- `report compare-models`
- `tooling doctor`
- `risk explain`
- `lmdb build`
- `sqlite build`

### graph-context
Build a graph context pack for a seed.
```bash
pairofcleats graph-context --seed symbol:<id> --depth 2 --direction out --repo .
```

### context-pack
Build a composite context pack for a seed.
```bash
pairofcleats context-pack --seed file:src/index.js --hops 2 --repo .
```

### impact
Compute bounded graph impact for a seed or change set.
```bash
pairofcleats impact --changed src/index.js --depth 2 --direction downstream --repo .
```

### suggest-tests
Suggest tests impacted by a change list.
```bash
pairofcleats suggest-tests --changed src/index.js --max 10 --repo .
```

### api-contracts
Report cross-file API contracts (from indexed symbols + call sites).
```bash
pairofcleats api-contracts --repo . --onlyExports --maxSymbols 200
```

### architecture-check
Evaluate architecture rules over graphs (JSON or YAML rules).
```bash
pairofcleats architecture-check --rules rules/architecture.json --repo . --fail-on-violation
```

### report eval
Run evaluation suites over a query dataset.
```bash
pairofcleats report eval --dataset tests/fixtures/sample/eval.json --repo . --backend auto --top 10
```

### report compare-models
Compare embedding models across a query set.
```bash
pairofcleats report compare-models --models modelA,modelB --baseline modelA --repo . --backend sqlite
```

### tooling doctor
Inspect tooling availability and config.
```bash
pairofcleats tooling doctor --repo . --json
```

### risk explain
Explain interprocedural risk flows for a chunk.
```bash
pairofcleats risk explain --index path/to/index-code --chunk <chunkUid> --max 20
```

### lmdb build
Build LMDB indexes from file-backed artifacts.
```bash
pairofcleats lmdb build --repo . --mode all
```

### sqlite build
Build SQLite indexes from file-backed artifacts.
```bash
pairofcleats sqlite build --repo . --mode all --validate smoke
```

| Script | Category | CI Allowed | Replacement |
| --- | --- | --- | --- |
| `api-server` | tooling | no |  |
| `bench-dict-seg` | bench | no |  |
| `bench-language` | bench | no |  |
| `bench-language:matrix` | bench | no |  |
| `bench-micro` | bench | no |  |
| `bench-micro:tiny` | bench | no |  |
| `bench-queries` | bench | no |  |
| `bootstrap` | tooling | no |  |
| `build-index` | indexing | no |  |
| `build-lmdb-index` | indexing | no |  |
| `build-sqlite-index` | indexing | no |  |
| `build-tantivy-index` | indexing | no |  |
| `cache-gc` | tooling | no |  |
| `ci-build` | release | no |  |
| `ci-restore` | release | no |  |
| `clean-artifacts` | tooling | no |  |
| `compact-sqlite-index` | indexing | no |  |
| `compare-models` | tooling | no |  |
| `config-dump` | config | no |  |
| `config-reset` | config | no |  |
| `config-validate` | config | no |  |
| `config:budget` | config | yes |  |
| `ctags-ingest` | tooling | no |  |
| `download-dicts` | tooling | no |  |
| `download-extensions` | tooling | no |  |
| `download-models` | tooling | no |  |
| `env:check` | tooling | yes |  |
| `eval-run` | tooling | no |  |
| `format` | lint | yes |  |
| `generate-repo-dict` | tooling | no |  |
| `get-last-failure` | tooling | no |  |
| `gtags-ingest` | tooling | no |  |
| `index-validate` | indexing | no |  |
| `indexer-service` | indexing | no |  |
| `lint` | lint | yes |  |
| `lsif-ingest` | tooling | no |  |
| `map-iso` | tooling | no |  |
| `mcp-server` | tooling | no |  |
| `metrics-dashboard` | tooling | no |  |
| `parity:matrix` | tooling | no |  |
| `release-check` | release | no |  |
| `release-check:breaking` | release | no |  |
| `report-artifacts` | tooling | no |  |
| `scip-ingest` | tooling | no |  |
| `search` | indexing | no |  |
| `setup` | tooling | no |  |
| `shard-census` | tooling | no |  |
| `show-throughput` | tooling | no |  |
| `structural-search` | indexing | no |  |
| `summary-report` | tooling | no |  |
| `tooling-detect` | tooling | no |  |
| `tooling-install` | tooling | no |  |
| `uninstall` | tooling | no |  |
| `verify-extensions` | tooling | no |  |
| `watch-index` | indexing | no |  |
