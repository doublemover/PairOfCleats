{
  "excludedDirs": [
    "fixtures",
    "script-coverage",
    "helpers",
    ".logs",
    ".cache",
    ".worktrees",
    "worktree",
    "worktrees"
  ],
  "excludedFiles": ["run.js", "all.js", "script-coverage.js", "api-server-stream.js"],
  "knownLanes": ["smoke", "unit", "integration", "services", "api", "storage", "perf", "ci"],
  "laneRules": [
    { "lane": "perf", "match": ["^perf/", "^bench", "-perf-", "^kotlin-perf-guard"] },
    { "lane": "smoke", "match": ["^smoke(?:-|$)", "^harness/smoke/"] },
    { "lane": "api", "match": ["^services/api/"] },
    { "lane": "services", "match": ["^services/", "^api-server", "^mcp", "^indexer-service", "^service-queue"] },
    { "lane": "storage", "match": ["^storage/", "^sqlite", "^lmdb", "^vector-extension"] },
    {
      "lane": "unit",
      "match": [
        "^unit/",
        "\\.unit(\\.|$)",
        "^harness/",
        "^jsonrpc-",
        "^json-stream",
        "^tokenize-",
        "^tokenization-",
        "^dict-",
        "^cache-lru",
        "^build-runtime/",
        "^test-runner$"
      ]
    }
  ],
  "tagRules": [
    { "tag": "perf", "match": ["^perf/"] },
    { "tag": "services", "match": ["^services/"] },
    { "tag": "api", "match": ["^services/api/"] },
    { "tag": "storage", "match": ["^storage/"] },
    { "tag": "indexing", "match": ["^indexing/"] },
    { "tag": "retrieval", "match": ["^retrieval/"] },
    { "tag": "lang", "match": ["^lang/"] },
    { "tag": "tooling", "match": ["^tooling/"] },
    { "tag": "harness", "match": ["^harness/"] },
    { "tag": "bench", "match": ["^bench"] },
    { "tag": "smoke", "match": ["^smoke"] },
    { "tag": "sqlite", "match": ["sqlite"] },
    { "tag": "lmdb", "match": ["lmdb"] },
    { "tag": "mcp", "match": ["mcp"] },
    { "tag": "api", "match": ["^api-server"] },
    { "tag": "watch", "match": ["^watch-"] },
    { "tag": "embeddings", "match": ["embeddings"] },
    { "tag": "tooling", "match": ["tooling|lsp|type-inference"] },
    { "tag": "context-pack", "match": ["^tooling/triage/context-pack"] },
    { "tag": "summary-report", "match": ["^summary-report"] },
    { "tag": "search-tie-order", "match": ["^search-tie-order"] },
    { "tag": "search-explain", "match": ["^search-explain"] },
    { "tag": "search-rrf", "match": ["^search-rrf"] },
    { "tag": "records-index-and-search", "match": ["^tooling/triage/records-index-and-search\\.test$"] },
    { "tag": "tool-build-index-progress", "match": ["^services/mcp/tool-build-index-progress\\.test$"] },
    { "tag": "mcp-tool-search-defaults", "match": ["^services/mcp/tool-search-defaults-and-filters\\.test$"] },
    { "tag": "file-selector-case", "match": ["^retrieval/filters/file-and-token/file-selector-case\\.test$"] },
    { "tag": "type-signature-decorator", "match": ["^retrieval/filters/type-signature-decorator\\.test$"] },
    { "tag": "parity", "match": ["parity"] },
    { "tag": "lancedb-ann", "match": ["^lancedb-ann"] },
    { "tag": "incremental-tokenization-cache", "match": ["^incremental-tokenization-cache"] },
    { "tag": "incremental-cache-signature", "match": ["^incremental-cache-signature"] },
    { "tag": "hnsw-ann", "match": ["^hnsw-ann"] },
    { "tag": "fixture-parity", "match": ["^fixture-parity"] },
    { "tag": "fixture-eval", "match": ["^fixture-eval"] },
    { "tag": "artifact-size-guardrails", "match": ["^artifact-size-guardrails"] },
    { "tag": "churn-filter", "match": ["^churn-filter"] },
    { "tag": "comment-join", "match": ["^comment-join"] },
    { "tag": "extracted-prose", "match": ["^extracted-prose"] },
    { "tag": "timeout-target", "match": ["^harness/timeout-target"] },
    { "tag": "python-metadata", "match": ["^lang/fixtures-sample/python-metadata\\.test$"] },
    { "tag": "query-cache", "match": ["^query-cache(?:-|$)"] },
    { "tag": "piece-assembly", "match": ["^piece-assembly$"] },
    { "tag": "shard-merge", "match": ["^shard-merge"] },
    { "tag": "destructive", "match": ["^uninstall"] }
  ],
  "outputIgnorePatterns": ["^\\[ignore\\]\\s+read-failed\\b"]
}
